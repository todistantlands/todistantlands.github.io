---
layout: post
title: 'The Recursive Encounter Calculator: for checking encounters over many turns'
date: '2019-06-17T15:26:00.003-07:00'
author: Alex Chalk
tags:
modified_time: '2019-06-19T12:48:29.924-07:00'
---

<a href="https://instadeath.blogspot.com/2019/06/how-my-silent-titans-game-crashed-and.html">Peter's recent post</a> on the enduring difficulty of running travel in RPGs has motivated me to make a little tool I'd been thinking about for a while. It is not a complete solution to his problem, but I hope it can at be helpful to a few GMs out there. I'll explain further, but first, the tool:<br /><a name='more'></a><br /><h2>Recursive Encounter Calculator</h2><b>Odds of encounter per turn:</b><br /><input id="odds" size="3" type="number" value="1" /> in <input id="max" size="3" type="number" value="6" /><br /><b>Number of turns:</b> <input id="reps" size="3" type="number" value="1" /><br /><button onclick="calcPercent()">Calculate odds</button><b>&nbsp;%Chance of an encounter:</b><span id="test">17</span><br /><button onclick="checkEnc()">Check for encounter</button> <span id="enc"></span><br /><br />Now, what it does:<br /><br />Let's say your party tell you they want to travel from one town to another. There is a road to get there by but it involves a week's worth of travel. There are two questions of interest in this situation: Does anything interrupt the party's travels, and if so, how far do they get before it happens? By your rules, encounters are checked twice per day - once during the daytime and once at night. Thus, running travel here basically entails rolling 1d6 14 times in order to determine if and when something interesting happens. This tool instead reduces all that die rolling to one or two clicks.<br /><br />The "calculate odds" button works out the odds of an encounter occurring <i>at any point along the way</i>&nbsp;and returns those odds as a percentage. For example, if you're testing a 1 in 6 chance 10 times, your odds of hitting that 1 <i>at least once</i>&nbsp;are about 84%. So, if you prefer to roll real-life dice, you could roll 1d100, where an 84 or less would indicate an encounter happens somewhere between point A and point B. You could determine how far along it occurs by rolling a d10.<br /><br />The "check for encounters" button calculates the odds as above, but it also carries out the d100 roll itself, and tells you how many turns in the encounter happens.<br /><br />Once you know a) whether there is an encounter and b) when it happens, you can "stop the timer", so to speak, at the point at which the encounter occurs and start again from there. Let's say, for instance, that you're checking for encounters over 10 turns. The tool tells you that yes, you do get an encounter, on turn 4. Once you resolve the encounter, you can run it again, this time checking across 6 turns instead of 10. Repeat until the tool returns no encounters.<br /><br />Is this tool 100% mathematically accurate? I'm not sure, but I think so, at least as long as you're dealing with percentages under 99%. (If the calculator <i>does</i>&nbsp;return 100% odds, you need to break your calculations down into smaller chunks...) The odds of a given thing happening do not increase each time it doesn't happen, so once you know an encounter will <i>definitely </i>occur somewhere between turns 1 and 20 (because the d100 said it would), it is not actually more likely that it happen on turn 1 than on turn 20. At least I think that's how it works.<br /><script>function test() {  document.getElementById("test").innerHTML = "Working!"; }  function calcPercent() {  var odds = document.getElementById("odds").value;  var max = document.getElementById("max").value;     var reps = document.getElementById("reps").value;          var odds = Math.ceil((1 - Math.pow((1 - odds/max),reps))*100);          document.getElementById("test").innerHTML = odds;     return odds; }  function checkEnc() {  var chance = calcPercent();     var roll = Math.ceil(Math.random()*100);          if (roll <= chance) {      var step = Math.ceil(Math.random()*document.getElementById("reps").value);         document.getElementById("enc").innerHTML = `Encounter on roll ${step}. (Rolled ${roll} against ${chance}.)`;     } else {      document.getElementById("enc").innerHTML = `No encounter. (Rolled ${roll} against ${chance}.)`;     } } </script>